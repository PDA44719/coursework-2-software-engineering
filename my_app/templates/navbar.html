{% macro create_link(location_for_active, link_url, link_name) %}
    {% if location == location_for_active %}
    <a class="nav-link active" href="{{ url_for(link_url) }}">{{ link_name }}</a>
    {% else %}
    <a class="nav-link" href="{{ url_for(link_url) }}">{{ link_name }}</a>
    {% endif %}
{%- endmacro %}

<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <a class="navbar-brand" href="#">Navbar</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarColor01">
    <ul class="navbar-nav me-auto">
        <li class="nav-item">
            {{ create_link('home', 'main.index', 'Home') }}
        </li>
        <li class="nav-item">
            <a class="nav-link" href="{{ url_for("main.dash_app") }}">Dashboard</a>
        </li>
        <li class="nav-item">
            {{ create_link('profile', 'main.profile', 'Profile') }}
        </li>

        <li class="nav-item">
            <!--If user is at home and has not been authenticated-->
            {% if not current_user.is_anonymous %}
            <a class="nav-link" href="{{ url_for("auth.logout") }}">Logout</a>
            {% else %}
            {{ create_link('authorization', 'auth.login', 'Authorization') }}
            {% endif %}
        </li>
    </ul>
  </div>
</nav>
